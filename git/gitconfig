[user]
    name = Serghei Filippov
    email = serghei.filippov@gmail.com
[core]
    editor = vim
    precomposeunicode = true
    excludesfile = ~/.gitignore
[bash]
    showDirtyState = 1
[merge]
    tool = opendiff
[push]
    default = simple
    # Any refs being pushed with new tags? Also push the tags!
	followTags = true
[filter "media"]
    clean = git-media-clean %f
    smudge = git-media-smudge %f
[alias]
    # Simple aliases
    amend = commit --amend
    st = status --short --branch

    # Initializing
    empty-commit = commit --allow-empty

    # merging
    mergecommit = merge --no-ff
    ff = merge --ff-only
    fetchff = !git fetch && git ff
    rebase-up = !git rebase FETCH_HEAD $@

    # Fetching
    pff = pull --ff-only
    fetchfull = fetch --all --prune origin
    prunetags = !git tag -d $(git tag) && git fetch --tags

    # Tags
    del-tag = !git push ${1} :${2} ${@:3} && :
    del-branch = !git push ${1} :${2} ${@:3} && :



    tree = log --graph --full-history --all --color --pretty=format:"%x1b[31m%h%x09%x1b[32m%d%x1b[35m%x20%an%x1b[0m%x20%s"

    # Working with branches
    upstream = rev-parse --abbrev-ref @{upstream}
    # pushes up to a branch
    push-up = !branch=`git rev-parse --abbrev-ref HEAD` && git push --set-upstream origin ${branch}
    push-to = !branch=`git rev-parse --abbrev-ref HEAD` && git push ${1} ${branch}:${2} ${@:3} && :
    del-branch = !git push ${1} :${2} ${@:3} && :

    # Cleaup
    cleanup = !find . \\( -name "*_BACKUP_*" -or -name "*_BASE_*" -or -name "*_LOCAL_*" -or -name "*_REMOTE_*" -or -name "*.orig"  \\) -exec rm -i {} \\+

[color]
    ui = true

[color "branch"]
    current = yellow
    local = cyan
    remote = green
[color "status"]
    added = green
    changed = red
    untracked = cyan
    unmerged = yellow
    # Detached state warning
    nobranch = red
# TODO: CHeck that these make sense
[color "diff"]
    meta = yellow bold
    commit = green bold
    frag = magenta bold
    old = red bold
    new = green bold
    whitespace = red reverse
[color "diff-highlight"]
    oldNormal = red bold
    oldHighlight = "red bold 52"
    newNormal = "green bold"
    newHighlight = "green bold 22"
